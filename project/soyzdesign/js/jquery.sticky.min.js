!function(t){t.fn.sticky=function(e){var i=t.extend({topspacing:20,marginbottom:150,stopper:".footer",styler:"",unlockwidth:!1,animduration:500,sticktype:"afterall",screenlimit:!0,minwidth:1024,minheight:500,stick:function(){},unstick:function(){}},e),o=this;return this.each(function(e){function n(t,e){"stick"!=t||u||(void 0!==i.stick&&i.stick(e),u=!0,""!=i.styler&&e.addClass(i.styler)),"unstick"==t&&u&&(void 0!==i.unstick&&i.unstick(e),u=!1,""!=i.styler&&e.removeClass(i.styler))}function h(){var h=this.pageYOffset+i.topspacing,p=(t(i.stopper).length>0?Math.round(t(i.stopper).offset().top):t("body").height())-i.marginbottom;i.screenlimit&&(t(window).width()<=i.minwidth||t(window).height()<i.minheight||screen.width<=i.minwidth)||("directly"==i.sticktype?((h+r.outerHeight(!0)<p||Math.round(r.offset().top)+r.outerHeight(!0)<p)&&Math.round(r.offset().top)<h&&(o.length-1>=e&&s.height()<r.height()&&"undefined"!=typeof r.next().offset()&&Math.round(r.next().offset().top)>h||o.length-1>=e&&"undefined"==typeof r.next().offset())?h+r.outerHeight(!0)<p&&s.height(h-Math.round(s.offset().top)):Math.round(s.offset().top)+s.outerHeight(!0)>h&&s.height(h-Math.round(s.offset().top)),!u&&Math.round(r.offset().top)>=h&&s.height()>0?n("stick",r):u&&(Math.round(r.offset().top)<h||Math.round(r.offset().top)>h&&0==s.height())&&n("unstick",r)):this.pageYOffset+c+r.outerHeight(!0)>p||"alonemenu"==i.sticktype&&1==o.length&&s.height()>0&&this.pageYOffset<=s.offset().top?s.height()>0&&(s.height(0),r.css(d),n("unstick",r)):"alonemenu"==i.sticktype&&1==o.length&&r.offset().top<=h||"afterall"==i.sticktype&&a.offset().top+a.outerHeight(!0)<=h?0==s.height()&&(s.height(r.outerHeight()),r.css({position:"fixed",top:c+"px"}),i.unlockwidth||r.width(f),i.animduration>0&&""!=i.animduration&&r.animate({opacity:0},0,function(){r.animate({opacity:1},i.animduration)}),n("stick",r)):s.height()>0&&(s.height(0),r.css(d),n("unstick",r)))}if(!(i.screenlimit&&/android|webos|iphone|ipad|ipod|blackberry/i.test(navigator.userAgent.toLowerCase())||t(window).width()<=i.minwidth||t(window).height()<i.minheight||screen.width<=i.minwidth)){var s,r=t(this),a=r.parent(),f=r.width(),c=i.topspacing,d={position:"relative",top:"auto",width:"auto"},u=!1;("afterall"==i.sticktype||"alonemenu"==i.sticktype)&&o.slice(0,e).each(function(t){c+=o.eq(t).outerHeight(!0)}),r.before(t('<div class="placeholder"></div>').width(f).height(0)),s=r.prev(".placeholder"),t(window).bind("scroll resize",function(){h()}),setTimeout(function(){t(window).trigger("scroll")},0)}})}}(jQuery);